<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ììœ ê²Œì‹œíŒğŸŒ</title>

    <script src="https://kit.fontawesome.com/71a327e855.js" crossorigin="anonymous"></script>
    <!-- font awesome ì˜¤ë¥˜ ë‚¬ì„ë•Œ fas / fab (brand ì´ë¯¸ì§€ì¼ ê²½ìš°) ì•ì— ì¶”ê°€í•˜ì—¬ í•´ê²° _ë²„ì „ ì˜¤ë¥˜ -->

    <link rel="stylesheet" href="../public/freeList.css">
</head>
<body>
    <!-- Header -->
    <header id="header">
        <a href="/" class="logo"><img src="https://jsh-1.s3.ap-northeast-2.amazonaws.com/test/KakaoTalk_20240722_163631321_07.png" alt="ë¬´ëŸ­ì´">
            <strong>MURUK </strong> <span>by ShinRok</span></a>
        <ul class="icons">
            {% if user %}
            <li><a href="#">{{user.nick}}ë‹˜ í™˜ì˜í•©ë‹ˆë‹¤.</a></li>
            {% else %}
            <li><a href="#">ë¡œê·¸ì¸ í›„ ì´ìš©í•´ì£¼ì„¸ìš”.</a></li>
            {% endif %}
            <li>
                <form id="myPageForm" action="/myPage/info" method="post">
                    <a href="#" onclick="document.getElementById('myPageForm').submit(); return false;">ë§ˆì´í˜ì´ì§€</a>
                </form>
                <!-- <li><a href="/myPage/info" id="myPageLink">ë§ˆì´í˜ì´ì§€</a></li> --> 
            </li>
            {% if user %}
            <div class="kakaoLogout">
                <a href="/user/logout">ë¡œê·¸ì•„ì›ƒ<img src=""></a>
            </div>
            {% else %}
            <div class="kakaoLogin">
                <a href="/user/login"><img src="https://jsh-1.s3.ap-northeast-2.amazonaws.com/test/kakao_login_small+(1).png"></a>
            </div>
            {% endif %}
        </ul>
    </header>

    <!-- ------------------- ìµœìƒë‹¨ ë°°ë„ˆ ----------------------- -->
    <section id="banner">
        <div class="content">
            <header>
                <!-- <h2>ì˜¤ëŠ˜ì˜ ì‹ë¬¼ <br/></h2> -->
                <img class="murukLogo" src="https://jsh-1.s3.ap-northeast-2.amazonaws.com/board/63f25f8a5b4f5ebf2c08e948eaa4ded2" alt="">
            </header>
        </div>
    </section>
        
    <!-- ------------------ ì™¼ìª½ ì‚¬ì´ë“œë°” ---------------------- -->
    <aside class="leftSidebar">
        <nav class="topsidebar">
            <ul>
                <!-- <li><a href="/plusPost"><button id="postingBtn"><i class="fa-solid fa-pen-to-square"></i> ê²Œì‹œê¸€ì“°ê¸°</button></a></li> -->
                <!-- ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ëŠ” ë²„íŠ¼ -->
                <li><a href="/" id="homeLink">HOME</a></li>
                <li><a href="/board/freeList" id="freeListLink">ììœ ê²Œì‹œíŒ</a></li>
                <li><a href="/board/bragList" id="bragListLink">ìë‘í•˜ê¸°</a></li>
                <li><a href="/board/hot" id="hotListLink">ì¸ê¸°ê¸€</a></li>
                <li><a href="/board/queslist" id="quesListLink">ì§ˆë¬¸ê²Œì‹œíŒ</a></li>
            </ul>
        </nav>

        <!-- ----------------- ì•„ë˜ìª½ ì‚¬ì´ë“œë°”(í˜ì´ì§€ ì´ë™) ----------------- -->
        <nav class="underSidebar">
            <ul>
                <li><a href="/diary" id="diaryLink">Diary</a></li>
                <li><a href="/predict" id="predictLink">ë³‘ì¶©í•´ ì§„ë‹¨</a></li>
                <li><a href="/dictionary/home" id="dictionaryLink">ì‹ë¬¼ ë„ê°</a></li>
                <li>
                    <form id="myPageForm" action="/myPage/info" method="post">
                        <a href="#" onclick="document.getElementById('myPageForm').submit(); return false;">ë§ˆì´í˜ì´ì§€</a>
                    </form>
                    <!-- <a href="/myPage/info">ë§ˆì´í˜ì´ì§€</a> -->
                </li>
            </ul>
        </nav>
        
    </aside>

    <!-- -------------------------- ììœ ê²Œì‹œíŒ ëª©ë¡ ---------------------------------------------- -->
    <section id="freeSection">
        <div class="headerText">
            <img id="headerImage" src="" alt="">
            <h1 id="headerTitle"></h1>
        </div>
        <table class="freetable">
            <tr class="postHead">
                <th>ë²ˆí˜¸</th>
                <th>êµ¬ë¶„</th>
                <th class="postTitle">ì œëª©</th>
                <th>ì‘ì„±ì</th>
                <th>ì‘ì„±ë‚ ì§œ</th>
                <th>ì¡°íšŒ</th>
                <th>ì¶”ì²œ</th>
                <th></th>
            </tr>
            
            {% for i in boardFree %}
                <tr class="contentBody" onclick="location.href='/board/detailPost?idx={{ i.BOARD_IDX }}'">
                    <td>{{ loop.index }}</td>
                    <td>{{i.BOARD_CATE}}</td>
                    <td class="content">{{ i.BOARD_TITLE }} ({{ i.COMMENT_COUNT }})</td>
                    <td>{{ i.USER_NICK }}</td>
                    <td>{{ i.BOARD_DATE | date("MM-DD HH:mm") }}</td>
                    <td>{{ i.BOARD_COUNT }}</td>
                    <td>{{i.BOARD_RECOMMEND}}</td>
                    <td></td>
                   
                    <td>
                        <input type="hidden" value="{{ i.BOARD_IDX }}">
                    </td>
                </tr>
            {% endfor %}
            
        </table>
        
        <!-- í•˜ë‹¨ í˜ì´ì§• -->
        <div class="freePaging">
            {% if currentPage > 1 %}
                <a href="?page={{ currentPage - 1 }}">ì´ì „</a>
            {% endif %}
            
            {% for page in range(1, totalPages + 1) %}
                {% if page == currentPage %}
                    <span>{{ page }}</span>
                {% else %}
                    <a href="?page={{ page }}">{{ page }}</a>
                {% endif %}
            {% endfor %}
            
            {% if currentPage < totalPages %}
                <a href="?page={{ currentPage + 1 }}">ë‹¤ìŒ</a>
            {% endif %}
        </div>

        <!-- ê¸€ì“°ê¸° ë²„íŠ¼ -->
        <div id="mainPlusBtn">
            <a href="/plusPost"><button type="button">ê¸€ì“°ê¸°</button></a>
        </div>
    </section>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const headerText = document.querySelector('.headerText');
            const headerImage = document.getElementById('headerImage');
            const headerTitle = document.getElementById('headerTitle');
            const currentPath = window.location.pathname;

            const banners = {
                '/board/freeList': {
                    img: 'https://jsh-1.s3.ap-northeast-2.amazonaws.com/board/dd1d2f1de32038ed1179237e055037f1',
                },
                '/board/hot': {
                    img: 'https://jsh-1.s3.ap-northeast-2.amazonaws.com/board/5f3c87c14e4e101dfbf037eb894ee822',
                }
            };

            if (banners[currentPath]) {
                headerImage.src = banners[currentPath].img;
                headerTitle.textContent = banners[currentPath].title;
                headerText.style.display = 'block';
            } else {
                headerText.style.display = 'none';
            }

            const links = {
                '/': 'homeLink',
                '/board/freeList': 'freeListLink',
                '/board/bragList': 'bragListLink',
                '/board/hot': 'hotListLink',
                '/board/queslist': 'quesListLink',
                '/diary': 'diaryLink',
                '/predict': 'predictLink',
                '/dictionary/home': 'dictionaryLink'
            };

            const activeLinkId = links[currentPath];
            if (activeLinkId) {
                document.getElementById(activeLinkId).classList.add('active');
            }
        });
    </script>
</body>
</html>
